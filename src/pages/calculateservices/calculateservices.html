<!--
  Generated template for the CalculatePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
      <button ion-button menuToggle float-left>
        <ion-icon name="menu"></ion-icon>
      </button>
      <ion-title float-left>Selecione o serviço</ion-title>
      <button class="paty-btn" ion-button float-right color="light" (click)="faleCom()">
        <img src="assets/imgs/logo.png" style="height: 44px;"/>
      </button>
    </ion-navbar>
</ion-header>

<ion-content>
  <form [formGroup]="frmCalculateServices" (ngSubmit)="openCheckout()">
    <ion-grid>
        <!-- <ion-badge *ngFor="let flag of myevent.flags" class="{{flag.tag}}">{{flag.name}}</ion-badge> -->
      <ion-row *ngFor="let item of event.items">
        <ion-col col-12>
          <ion-card full [style.backgroundImage]="'url(' + item.image + ')'" >
            <div class="titulo" (click)="openModal(item)">{{item.name}} <ion-icon name="information-circle"></ion-icon></div>
            <div class="less_plus">
                <ion-checkbox (ionChange)="setQtd(item.tag)" [formControlName]="item.tag" [(ngModel)]="item.qty"></ion-checkbox>
            </div>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-input type="hidden" class="txt-attendees" placeholder="0" formControlName="attendees" [(ngModel)]="event.attendees" ></ion-input>
  </form>
  <div class="espaco-botao"></div>
</ion-content>
<div id="footer" full float-end>
  <div class="valTotal">
    <ion-grid>
      <ion-row class="row-scroll">
        <ion-col col-12 class="borderToFooter">
            <h5>Nº de pessoas<ion-input type="text" class="txt-attendees" placeholder="0" [(ngModel)]="event.attendees" ></ion-input></h5>
            <ion-item>
              <ion-range min="0" max="150" step="10" snaps="true" color="default" (ionChange)="setQtd()" [(ngModel)]="event.attendees"></ion-range>
            </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
          <ion-col col-6 class="borderToFooter">
            <div class="btnTotalNew">
                <ion-icon class="icoCart" name="cart"></ion-icon><p class="totais">Valor Total:<br/> {{event.valueTotal | currency:"R$ ":0}}</p>
            </div>
          </ion-col>
          <ion-col col-6 class="borderToFooter">
              <button class="btnEventoNew" (click)="openCheckout()" type="submit" ion-button>Solicitar<br/>Orçamento</button>
          </ion-col>
      </ion-row>
    </ion-grid>
  </div> 
</div>